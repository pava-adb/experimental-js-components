<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Documentation Source: samples/todo-app/controllers/index.js</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	
	<link type="text/css" rel="stylesheet" href="styles/site.flatly.css">
	
</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top ">
		<div class="navbar-inner">
			<a class="brand" href="index.html">Documentation</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="UI_Components.html">UI/Components</a>
						</li>
						
						<li>
							<a href="UI_Components_Constants.html">UI/Components/Constants</a>
						</li>
						
						<li>
							<a href="UI_Components_Models.html">UI/Components/Models</a>
						</li>
						
						<li>
							<a href="UI_Components_Views.html">UI/Components/Views</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="UI_Components.Button.html">Button</a>
						</li>
						
						<li>
							<a href="UI_Components.Component.html">Component</a>
						</li>
						
						<li>
							<a href="UI_Components.DataGrid.html">DataGrid</a>
						</li>
						
						<li>
							<a href="UI_Components.DropDown.html">DropDown</a>
						</li>
						
						<li>
							<a href="UI_Components_Models.Model.html">Model</a>
						</li>
						
						<li>
							<a href="UI_Components_Views.View.html">View</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
			<div class="span12">
				
				<div id="main">
					


		<h1 class="page-title">Source: samples/todo-app/controllers/index.js</h1>
    
    <section>
        <article>
            <pre class="sunlight-highlight-javascript ">define(["factories/model!simple_model", "utils/constants"], function(SimpleModel, Constants) {
    /**
     * @constructor
     * @public
     * @description
     * This is the TodoApp constructor used to start the application.
     */
    function TodoApp() {
        this.config = {
            "selector": "div[data-sid='todo-app']",
            "components": {
                "btn-refresh": { 
                    "model": new SimpleModel({"label": "Show task types"})
                },
                "dd-task-types": {
                    "model": new SimpleModel({
                        "title": "Sample dropdown",
                        "items": [
                            {"name": "Work task", "value": 1, "attr1": "Attribute 1 of work task."},
                            {"name": "Personal task", "value": 2, "attr1": "Attribute 2 of personal task."}
                        ]
                    }),
                    "valueName": "value",
                    "textName": "name"
                },
                "grid-tasks": {
                    "model": new SimpleModel({
                        "columns": [
                            {"id": "#", "name": "#"},
                            {"id": "firstName", "name": "First name"},
                            {"id": "lastName", "name": "Last name"}
                        ],
                        "items": [
                            new SimpleModel({"#": "1", "firstName": "Radu Viorel", "lastName": "Cosnita"}),
                            new SimpleModel({"#": "2", "firstName": "Dan", "lastName": "Popa"}),
                            new SimpleModel({"#": "3", "firstName": "Adriana Elena", "lastName": "Cosnita"})
                        ]
                    })
                }
            }
        };
    };

    /**
     * @public
     * @instance
     * @description
     * This method is invoked automatically when application starts.
     */
    TodoApp.prototype.start = function() {
        var ddTaskTypes = this.components["dd-task-types"],
            btnRefresh = this.components["btn-refresh"],
            gridTasks = this.components["grid-tasks"];

        this._hideComponents([ddTaskTypes, gridTasks]);

        this._wireBtnRefreshEvents();
        this._wireDdTaskTypesEvents();
        this._wireGridTasksEvents();
    };

    /**
     * @private
     * @instance
     * @method
     * @description
     * This method hides / shows all components provided through comps.
     */
    TodoApp.prototype._hideComponents = function(comps, visible) {
        comps = comps || [];
        visible = visible || false;

        var evtName = !visible ? Constants.COMPONENT_HIDE_EVENT : Constants.COMPONENT_SHOW_EVENT;

        for (var compIdx in comps) {
            comps[compIdx].trigger(evtName, {});
        }
    };

    /**
     * @private
     * @instance
     * @method
     * @description
     * This method wires all events for btnRefresh button.
     */
    TodoApp.prototype._wireBtnRefreshEvents = function() {
        var ddTaskTypes = this.components["dd-task-types"],
            btnRefresh = this.components["btn-refresh"],
            gridTasks = this.components["grid-tasks"],
            self = this;

        btnRefresh.on(Constants.COMPONENT_BTN_CLICK_EVENT, function() {
            if (!ddTaskTypes.config.model.get(Constants.MODEL_PROPERTY_VISIBLE)) {
                ddTaskTypes.trigger(Constants.COMPONENT_SHOW_EVENT, {});
                gridTasks.trigger(Constants.COMPONENT_SHOW_EVENT, {});

                btnRefresh.config.model.set("label", "Hide task types");

                return;
            }

            ddTaskTypes.trigger(Constants.COMPONENT_HIDE_EVENT, {});
            gridTasks.trigger(Constants.COMPONENT_HIDE_EVENT, {});

            btnRefresh.config.model.set("label", "Show task types");            
        });
    };

    /**
     * @private
     * @instance
     * @method
     * @description
     * This method wires all events for task types drop down.
     */
    TodoApp.prototype._wireDdTaskTypesEvents = function() {
        var ddTaskTypes = this.components["dd-task-types"];

        ddTaskTypes.on(Constants.COMPONENT_DD_ITEM_SELECTED_EVENT, function(model) {
            console.log("Item selected.");
            console.log(model);
        });
    };

    /**
     * @private
     * @instance
     * @method
     * @description
     * This method wires all events for tasks grid.
     */
    TodoApp.prototype._wireGridTasksEvents = function() {
        var gridTasks = this.components["grid-tasks"],
            self = this;

        gridTasks.on(Constants.COMPONENT_DATAGRID_ITEM_SELECTED_EVENT, function(selectedItem) {
            console.log(selectedItem);
        });
    };

    return TodoApp;
});</pre>
        </article>
    </section>





				</div>

				<div class="clearfix"></div>
				<footer>
					
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0</a>
		on Sun May 24 2015 21:26:33 GMT+0300 (EEST) using the <a href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<br clear="both">
		</div>

	</div>
	<script src="scripts/sunlight.js"></script>
	<script src="scripts/sunlight.javascript.js"></script>
	<script src="scripts/sunlight-plugin.doclinks.js"></script>
	<script src="scripts/sunlight-plugin.linenumbers.js"></script>
	<script src="scripts/sunlight-plugin.menu.js"></script>
	<script src="scripts/jquery.min.js"></script>
	<script src="scripts/jquery.scrollTo.js"></script>
	<script src="scripts/jquery.localScroll.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>


	<script>  Sunlight.highlightAll({lineNumbers:,  showMenu: true, enableDoclinks :true}); </script>

	<script>
		$( function () {
			$( "#toc" ).toc( {
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : 60
			} );
			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );

		} );
	</script>

	

</body>
</html>
